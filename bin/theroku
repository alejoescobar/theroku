require 'commander/import'
require 'theroku'

# :name is optional, otherwise uses the basename of this executable
program :name, 'Theroku'
program :version, '0.0.2'
program :description, "Awesome gem that'll bring you to balance."

command :login do |c|
  c.syntax = 'theroku login'
  c.description = 'Login into theroku awesome app.'
  c.action do |args, options|
    name = ask("Email: ")
    password = ask("Password:  ") { |q| q.echo = "*" }
    LoginCommand.new.execute(name, password, "This is a temporal token")
  end
end

command :create do |c|
  c.syntax = 'theroku create [args]'
  c.description = 'theroku create <url_1> <url_2> <app_name>'
  c.action do |args, options|
    CreateCommand.new.execute(*args)
  end
end

command :destroy do |c|
  c.syntax = 'theroku create [args]'
  c.description = 'theroku destroy <app_name>'
  c.action do |args, options|
    DestroyCommand.new.execute(*args)
  end
end
